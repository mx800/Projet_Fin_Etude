<!-----------------------------------------------------------------
----Description: Page modal qui sert a vérifier si un client existe
----Vérif client existe
----Fait par : Maxime Savard et Keven Maltais
----Le: 2018-02-26
----Révisé le:___________
------------------------------------------------------------------>

<md-dialog aria-label="Vérification d'un client existant">
    <form ng-cloak>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <span class="col-lg-12 col-md-12 col-sm-12" style="padding-right:20px;font-weight:bold; font-size:20px">Vérification d'un client existant<button type="button" class="btn btn-danger pull-right" ng-click="cancel('Fermer')" style="margin:3px;width:90px">Fermer</button></span>
            </div>
        </md-toolbar>
        <md-dialog-content>
            <div class="table-responsive col-md-12" style="height:400px">

                <i class="fa fa-exclamation-triangle text-orange icon col-md-1" style="font-size:6vmin;text-align:center;margin-top:30px;"></i>

                <div class="col-md-11">
                    <p style="font-size:2vmin;margin-top:15px">Des clients portant les mêmes informations ont été identifiés</p>
                    <p style="font-size:2vmin">Si l'un des clients de la liste est celui que vous voulez ajouter, sélectionnez-le puis afficher.</p>
                    <p style="font-size:2vmin">Sinon enregistrer un nouveau client.</p>
                </div>
                <table class="table table-striped table-hover" style="min-width:1100px">
                    <thead style="background-color:dimgrey; color:white">
                        <tr>
                            <th>Nom</th>
                            <th>Prénom</th>
                            <th>Adresse</th>
                            <th>Code Postal</th>
                            <th>Téléphone Principale</th>
                            <th>Email</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-class="{'selected':$index == selectedRow,'listeBlue':$index % 2 == 1}" ng-click="selectionClientVerif(i.No_Client,$index)" ng-repeat="i in VerifClient">
                            <td>{{i.Nom}}</td>
                            <td>{{i.Prenom}}</td>
                            <td>{{i.Adresse}}</td>
                            <td>{{i.Code_Postal}}</td>
                            <td>{{'('+ i.Telephone_Principal.slice(0,3)+') ' + i.Telephone_Principal.slice(3,6) +'-'+i.Telephone_Principal.slice(6,10) }}</td>
                            <td>{{i.Email}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <span flex></span>
            <md-button class="md-raised md-warn md-button md-ink-ripple" ng-click="Nouveau('Nouveau')">
                Nouveau client
            </md-button>
            <md-button class="md-raised md-primary md-button md-ink-ripple" ng-disabled="!isSelected" ng-click="Afficher('Afficher')">
                Afficher
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>

